# 簡單的範例

為了大致掌握C編譯器輸出的長相，我們試著比較一下C的程式和對應的組合語言程式。我們先考慮一下底下這個最簡單的程式：

```c
int main() {
  return 42;
}
```

把上述程式存檔成 test.c，並以以下指令編譯，執行確認`main`有傳回42。

```text
$ gcc -o test1 test1.c
$ ./test1
$ echo $?
42
```

C程式把`main`函式的回傳值作為整個程式的結束碼。程式的結束碼並不會顯示在畫面上，但是 shell 會默默把結果放在`$?`這個變數，在指令結束後可以呼叫`echo`來顯示`$?`的值，確認該指令的結束碼。在範例中可以看到有正確回傳42。

現在，我們來看看這隻C程式對應的組合語言如下：

```text
.intel_syntax noprefix
.global main
main:
        mov rax, 42
        ret
```



