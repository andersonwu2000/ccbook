# 產生組合語言指令

在 x86-64 我們使用`cmp`指令來進行比較。從堆疊裡彈出2個整數進行比較，如果相同的話就在 RAX 設定1否則設為0，組合語言程式如下：

```text
pop rdi
pop rax
cmp rax, rdi
sete al
movzb rax, al
```

這段程式雖然短，但內涵有點豐富，我們來一步一步看下去：

開頭2行是把值從堆疊彈出。第3行是把他們進行比較（compare），但是比較的結果到哪裡去了呢？x86-64 會把比較指令的結果放到叫「狀態暫存器（FLAGS register）」的一個特別的地方。狀態暫存器是每當進行整數運算或比較就會更新的一個暫存器，其中有代表結果是否為0的位元、代表是否發生溢位（overflow）的位元、代表是否結果小於0的位元等等。



