# 標頭檔的必要性與其內容

在分離編譯中，編譯器只看見程式的一部份程式碼，但編譯器並不能編譯任意部份的程式碼。舉例來說我們來考慮底下的程式碼：

```c
void print_bar(struct Foo *obj) {
  printf("%d\n", obj->bar);
}
```

上述的程式碼中，只要知道`Foo`的資料結構就能輸出對應這段程式碼的組合語言指令，但是不知道的話就無法編譯這個函式。

分離編譯時，需要把讓每一個C程式檔可以編譯的資訊，放進每一個檔案理。不過，如果把別的檔案的程式碼全部寫進去的話根本就不是分離編譯了，所以得做一定程度的資訊取捨。

舉個例子，我們來考慮要呼叫別的C檔案裡的函式需要什麼樣的資訊吧。編譯器需要以下的資訊：

* 首先，作為辨識碼，需要知道函式的名字這個資訊。
* 編譯器輸出呼叫函式的組合語言程式，必須把引數照規定的順序放到暫存器中，然後使用`call`指令跳到函式的開頭。引數根據型態不同可能會是整數或浮點數。並且引數的型態或數量不對的時候，必須要能顯示錯誤訊息。所以要知道函式的引數個數和各個引數的型態。
* 不管呼叫的函式做了什麼，對呼叫者來說就只知道其回傳，所以編譯時，呼叫者不需要知道被呼叫者的程式碼。

